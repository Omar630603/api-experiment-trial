<% if (typeof message !== 'undefined') { %>
<div class="alert">
  <p class="message"><%= message %></p>
</div>
<% } %>
<div class="container flex-col-container">
  <h1 class="title">Products</h1>
  <p class="description">Here you can see all the products</p>
</div>
<div class="container">
  <a href="/products/create" class="btn btn-primary">Create a new product</a>
</div>
<div class="container">
  <form action="/products" method="GET" class="flex-row-container">
    <div class="form-group">
      <label for="search">Search</label>
      <input type="text" name="search" id="search" class="form-control" />
    </div>
    <div class="form-group">
      <label for="minPrice">Minimum Price</label>
      <input
        type="number"
        name="price[minPrice]"
        id="minPrice"
        class="form-control"
        min="0"
      />
    </div>
    <div class="form-group">
      <label for="maxPrice">Maximum Price</label>
      <input
        type="number"
        name="price[maxPrice]"
        id="maxPrice"
        class="form-control"
      />
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
  </form>
</div>

<div class="container">
  <% if (products.length > 0) { %>
  <table class="products-table">
    <thead>
      <tr>
        <th>No.</th>
        <th>Name</th>
        <th>Price</th>
        <th>Description</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      <% for (let i = 0; i < products.length; i++) { %>
      <tr>
        <td><%= i + 1 %></td>
        <td><%= products[i].name %></td>
        <td>$<%= products[i].price %></td>
        <td><%= products[i].description %></td>
        <td>
          <a
            href="/products/show/<%= products[i].slug %>"
            class="btn btn-primary"
            >Details</a
          >
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
  <% }else{ %>
  <div class="alert alert-warning">
    <p class="message">There are no products in the database</p>
  </div>
  <% } %>
</div>
